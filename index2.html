<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>One Finger Clicker</title>

		<style>
			canvas {
				border: 1px solid black;
				margin: 0 auto;
				display: block;
				width: 3cm;
				height: 15cm;
			}
		</style>
	</head>
	<body onload="ready();">
		<canvas id="gameCanvas" width="3cm" height="15cm"></canvas>
	
		<script type="text/javascript">
		// TODO: Implament one key gameplay
		// TODO: Implament auto upgrading (Upgrade list that auto buys based on current points)
		// TODO: Store save file in localStorage
		function ready() {
			var canvas = document.querySelector("#gameCanvas");
			var ctx = canvas.getContext("2d");

			var currentInput = false;

			function input(down) {
				currentInput = down;
			}

			function draw() {
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				ctx.fillStyle = currentInput ? "red" : "blue";
				ctx.fillRect(canvas.width * 0.25, canvas.height - (canvas.width * 1.0), canvas.width * 0.5, canvas.width * 0.5);
				window.requestAnimationFrame(draw);
			}

			document.addEventListener("keydown", function (e) {
				input(true);
			}, true);

			document.addEventListener("keyup", function (e) {
				input(false);
			}, true);

			canvas.addEventListener("mousedown", function (e) {
				input(true);
			}, true);

			canvas.addEventListener("mouseup", function (e) {
				input(false);
			}, true);

			canvas.addEventListener("touchstart", function (e) {
				input(true);
			}, true);

			canvas.addEventListener("touchend", function (e) {
				input(true);
			}, true);

			window.requestAnimationFrame(draw);
		}
		</script>
	</body>
</html>